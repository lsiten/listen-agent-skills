# {{name}}

## 描述

{{description}}

## 适用场景

本模板适用于**高复杂度**的skill，例如：
- 多阶段工作流（如：准备→执行→分析）
- 需要状态管理和检查点的任务
- 涉及外部API和本地处理的混合任务
- 需要严格执行顺序控制的任务

**参考实例**: `online-ticket-analyzer-v2`

## 模板特点

- 🔄 **多阶段工作流** - 支持阶段0/阶段1/阶段2等多阶段设计
- ⚠️ **执行顺序控制** - 严格的前置检查和执行约束
- 📋 **字段规范管理** - 必须字段/尽量字段/补充字段分级
- 🔍 **状态检查机制** - 配置文件存在性检查，支持断点续传
- 📝 **文档模板** - 内置输出文档模板

## 目录结构

```
{{skill-name}}/
├── SKILL.md                    # 技能定义文件（必须）
├── README.md                   # 说明文档
├── scripts/                    # 执行脚本
│   └── install_dependencies.sh # 依赖安装脚本
└── resources/                  # 资源文件
    ├── templates/              # 输出模板
    └── examples/               # 示例文件
```

## 快速开始

1. 复制本模板目录到 `skills/{{your-skill-name}}/`
2. 设计多阶段工作流：
   - 阶段0：首次使用检查/环境准备
   - 阶段1：主要任务执行
   - 阶段2：结果分析与输出
3. 编辑 `SKILL.md`，替换所有 `{{placeholder}}`
4. 定义配置文件的字段规范
5. 创建输出文档模板
6. 测试完整流程

## SKILL.md 结构说明

```markdown
---
name: skill-name
description: 完整描述（1-1024字符）
version: 1.0.0
author: ""
tags: ["tag1", "tag2", "tag3", "tag4"]
---

# 技能名称 Skill
## 任务概述              # 功能描述 + 阶段列表 + 重要说明
## 核心能力              # 6-8个核心能力
## 整体工作流程          # 流程图 + 执行顺序约束（禁止/必须）

## 阶段0：首次使用检查   # 前置检查 + 配置文件生成
## 阶段1：主要任务执行   # 核心处理逻辑 + 场景处理指南
## 阶段2：综合分析       # 结果分析 + 文档生成

## 数据结构              # 字段规范表格
## AI执行方式            # 五步执行流程
## 文档模板              # 输出文档模板
## 配置选项              # 参数表格
## 使用示例              # 完整示例
## 最佳实践              # 分类建议
## 故障排除              # 问题表格 + 调试模式
## 辅助工具说明          # 工具列表 + 原则
## 扩展功能              # 可扩展能力
## 技术架构              # 技术栈说明
```

## 何时选择此模板

✅ **适合**：
- 需要多阶段执行的复杂任务
- 需要状态管理（配置文件检查）的任务
- 需要严格执行顺序控制的任务
- 涉及外部API调用和本地分析的混合任务
- 需要生成结构化文档报告的任务

❌ **不适合**：
- 简单的API调用（使用 `basic` 模板）
- 单纯的数据处理脚本（使用 `advanced` 模板）
- 不需要状态管理的任务

## 多阶段工作流设计指南

### 阶段0：首次使用检查

```markdown
### 前置检查（每次执行前必须执行）

1. 检查 {{配置文件1}} 是否存在
2. 检查 {{配置文件2}} 是否存在

如果两个文件都存在 → 跳过阶段0，直接进入阶段1
如果任一文件不存在 → 必须执行完整的阶段0流程
```

### 阶段1：主要任务执行

- 定义核心处理逻辑
- 处理不同场景的策略
- 特殊情况的处理流程

### 阶段2：综合分析

- 本地分析结果
- 生成结构化报告
- 输出文档模板

## 字段规范设计

### 三级字段分类

```markdown
#### 配置文件字段规范

**必须字段**（必须包含）：
- `field1`：字段说明（数据类型）
- `field2`：字段说明（数据类型）

**尽量要的字段**（尽量包含）：
- `field3`：字段说明（数据类型）

**其他补充字段**（可随意）：
- 可以根据实际情况添加其他字段
```

## 执行顺序约束

### 禁止行为

```markdown
**绝对禁止**：
- ❌ 跳过阶段0直接执行阶段1
- ❌ 在配置文件不存在时执行主要任务
- ❌ 忽略前置检查结果
```

### 必须遵守

```markdown
**必须遵守**：
- ✅ 按阶段顺序执行
- ✅ 完成前置检查后才能继续
- ✅ 保存中间结果以支持断点续传
```

## 注意事项

- 流程图使用ASCII绘制，确保清晰可读
- 执行顺序约束要醒目标注（使用⚠️❌✅）
- 字段规范要明确分级
- 文档模板要完整，可直接使用
- AI执行方式要详细，覆盖各种情况
